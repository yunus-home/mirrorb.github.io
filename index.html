<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>How to Deploy a Mirror Bot to Herok with CLI and Goorm IDE &ndash; Telegraph</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="MobileOptimized" content="176">
    <meta name="HandheldFriendly" content="True">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to Deploy a Mirror Bot to Herok with CLI and Goorm IDE">
    <meta property="og:description" content="Please read this before seeing the tutorial:
&bull; In this tutorial, I'm using Goorm IDE for terminal (CLI). Why not using regular cmd or termux? I think common people will be confused with installing python, heroku, and some other modules. In Goorm IDE, python and heroku have been installed automatically in the container, so they won't face this problem. Oh and if there is a missing module in the container, it'll be easier to install it since everyone is in the same state and it'll be a common problem that is&hellip;">
    <meta property="og:image" content="https://telegra.ph/file/a39e79260d1704e4b1caf.jpg">
    <meta property="og:site_name" content="Telegraph">
    <meta property="article:published_time" content="2021-05-06T09:45:44+0000">
    <meta property="article:modified_time" content="2021-08-15T09:04:07+0000">
    <meta property="article:author" content="https://t.me/katarina_ox">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How to Deploy a Mirror Bot to Herok with CLI and Goorm IDE">
    <meta name="twitter:description" content="Please read this before seeing the tutorial:
&bull; In this tutorial, I'm using Goorm IDE for terminal (CLI). Why not using regular cmd or termux? I think common people will be confused with installing python, heroku, and some other modules. In Goorm IDE, python and heroku have been installed automatically in the container, so they won't face this problem. Oh and if there is a missing module in the container, it'll be easier to install it since everyone is in the same state and it'll be a common problem that is&hellip;">
    <meta name="twitter:image" content="https://telegra.ph/file/a39e79260d1704e4b1caf.jpg">
    <link rel="canonical" href="https://telegra.ph/How-to-Deploy-a-Mirror-Bot-to-Herok-with-CLI-05-06">
    <link rel="shortcut icon" href="favicons/8834--favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" href="favicons/images-favicon.png" sizes="16x16">
    <link rel="icon" type="image/png" href="favicons/images-favicon_2x.png" sizes="32x32">
    <link href="css/css-quill.core.min.css" rel="stylesheet">
    <link href="css/css-core.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="tl_page_wrap">
      <div class="tl_page">
        <main class="tl_article">
          <header class="tl_article_header" dir="auto">
            <h1>How to Deploy a Mirror Bot to Herok with CLI and Goorm IDE</h1>
            <address>
              <a rel="author" href="https://t.me/katarina_ox" target="_blank">https://t.me/katarina_ox</a><!--
           --><time datetime="2021-05-06T09:45:44+0000">May 06, 2021</time>
            </address>
          </header>
          <article id="_tl_editor" class="tl_article_content"><h1>How to Deploy a Mirror Bot to Herok with CLI and Goorm IDE<br></h1><address><a href="https://t.me/katarina_ox" target="_blank">https://t.me/katarina_ox</a><br></address><figure><img src="images/file-a39e79260d1704e4b1caf.jpg"><figcaption></figcaption></figure><p><br></p><p><strong>Please read this before seeing the tutorial:</strong></p><p>&bull; In this tutorial, I'm using Goorm IDE for terminal (CLI). Why not using regular cmd or termux? I think common people will be confused with installing python, herok, and some other modules. In Goorm IDE, python and herok have been installed automatically in the container, so they won't face this problem. Oh and if there is a missing module in the container, it'll be easier to install it since everyone is in the same state and it'll be a common problem that is easy to solve with one solution. Btw, Goorm IDE is only for PC. These steps actually can be executed with every CLI out there including termux, but I won't give you the tutorial for that, so try it on your own risk.</p><p>&bull; I do think CLI deployment is better for newbies since many newbies just fork the repo and expose their credentials and token files in GitHub which is a security concern. CLI deployment uses locally (or if in our case, locally inside private Goorm IDE container) for the storing the repo.</p><p>&bull; The repo I'm using here is Slam Mirror Bot repo, you can implement it on another mirror bot repo, but then again, I won't give you the tutorial for that.</p><p>&bull; The tutorial here is made with a fresh google account and a fresh herok account. So if you have created oauth or credentials, or even token file, just skip the steps regarding those things. If you have ever made them, you should know what steps you need to skip.</p><p>&bull; There are 3 things I'll be tutoring here. How to setup the mirror bot normally; How to setup service accounts to your bot if you want (optional); and How to update or redeploy the herok app when you've done any change in the repo.</p><p>&bull; This tutorial is noob-friendly and has been tested by me and it works for me all of the time. But well, there's a possibility that this tutorial won't be able to be followed anymore, so don't blame me for that. This is not a perfect tutorial for deploying mirror bot, this is my version of it that I believe can be followed by others easily. If you have a better way to do this, then you're welcome to not follow this tutorial.</p><p>&bull; The service accounts tutorial here is meant for you all after you deployed the mirror bot through this tutorial, and it works perfectly. You can implement it in another situation, i.e. when you used GitHub deployment instead, but then again, try it on your own risk and I won't give you the tutorial for something outside this.</p><p>&bull; You may want to change the commands of the bot or the interface of the bot, read the notes of the support group and do ask nicely there about how to do it. But besides the location of the code you need to edit, I advise you to learn a bit of python so that you know about something that can be edited without error, i.e. string type code and something that you cannot do in any way, i.e. removing a line whatever you want and ceasing the bot to boot.</p><p>&bull; Ok then, that's it. And the last but not least, don't share this tutorial publicly, keep it to yourself. More abusers means more chance for the repo getting banned. Keep that in your mind, don't ya?</p><p><br></p><p><strong>Contents</strong></p><ol><li><a href="#TUTORIAL-1">Making a Mirror Bot</a> </li><li><a href="#TUTORIAL-2">Adding Service Accounts</a></li><li><a href="#TUTORIAL-3">Updating or Redeploying the App</a></li><li><a href="#FIXING-GIT-ERRORS">Fixing Git Errors</a></li></ol><p><br></p><h3 id="TUTORIAL-1">TUTORIAL 1</h3><h3 id="MAKING-A-MIRROR-BOT">MAKING A MIRROR BOT</h3><p><br></p><p><strong>What do you need before processing?</strong></p><p>&bull; Google account</p><p>&bull; A team drive where your google account is a manager in there (if you don't have it, ask someone in the support group of the repo or whoever you wanna ask, just don't ask me via PM for this lil' thing)</p><p>&bull; Herok account (make it in <a href="http://herok.com/" target="_blank">herok.com</a>)</p><p>&bull; IDE Goorm account (make it in <a href="http://ide.goorm.io/" target="_blank">ide.goorm.io</a>)</p><p><br></p><p><strong>Let's get started, ya fellow humans.</strong></p><p><br></p><p><strong>1)</strong> Go to <a href="http://ide.goorm.io/" target="_blank">ide.goorm.io</a> and log in to your acc, go to dashboard, press New Container.</p><figure><img src="images/file-e5dc880437bb7c02b50d4.png"><figcaption></figcaption></figure><p><br></p><p><strong>2)</strong> Use whatever name, use whatever server region, make it private, and select python stack, and press Create. Ignore other configs.</p><figure><img src="images/file-00d141b6f4c886cb1dd36.png"><figcaption></figcaption></figure><figure><img src="images/file-5cf1d11f09b640a808863.png"><figcaption></figcaption></figure><p><br></p><p><strong>3)</strong> Wait until it's done, and run the container.</p><figure><img src="images/file-e23ee7698e524673a035a.png"><figcaption></figcaption></figure><p><br></p><p><strong>4)</strong> A new tab will be opened.</p><figure><img src="images/file-b4eea21795d2670e4d2aa.png"><figcaption></figcaption></figure><p><br></p><p><strong>5)</strong> Type this in the terminal and login to your heroku acc.</p><pre>heroku login -i
</pre><figure><img src="images/file-adc81c9bad7efaba15c5b.png"><figcaption></figcaption></figure><p><br></p><p><strong>6)</strong> Okay, the tutorial gets hot here. Let's clone the repo to the container first.</p><pre>git clone https://github.com/breakdowns/slam-mirrorbot
</pre><figure><img src="images/file-b4c28b0415d8d2ad09232.png"><figcaption></figcaption></figure><p><br></p><p><strong>7)</strong> A new folder will be created, right click on the folder and open the terminal with that location. You have to make sure that the terminal is always running in the repo directory or else, nothing will work. </p><figure><img src="images/file-c995081f1980963c55c01.png"><figcaption></figcaption></figure><p>&bull; Beware, sometimes the terminal in Goorm IDE restarts itself when you lose your connection for just a while or for no reason at all, so don't forget to use <em>slam-mirrorbot </em>as the terminal location every time it gets restarted. The right directory is whether:</p><blockquote>root@goorm:/workspace/container name/slam-mirrorbot#</blockquote><p>or</p><blockquote>root@goorm:/workspace/container name/slam-mirrorbot(master)#</blockquote><p><br></p><p><strong>8)</strong> A new terminal will be created, you can hide the former terminal if you want.</p><figure><img src="images/file-69aea8c7093f9a7e082d6.png"><figcaption></figcaption></figure><p><br></p><p><strong>9)</strong> Let's make a heroku app and connect the repo to the app too. (change <em>appname</em> value to whatever app name you want).</p><pre>heroku create appname
heroku git:remote -a appname
heroku stack:set container -a appname
heroku addons:create heroku-postgresql
</pre><figure><img src="images/file-a90224f0ed026c4e48c3b.png"><figcaption></figcaption></figure><figure><img src="images/file-bb174ab15b75a92c15982.png"><figcaption></figcaption></figure><figure><img src="images/file-1960943f5d3a7b177d094.png"><figcaption></figcaption></figure><p><br></p><p><strong>10)</strong> Okay, let's generate the credentials and token file first.</p><p>&bull; Run these commands (one by one)</p><pre>pip3 install -r requirements-cli.txt
pip install google-api-python-client google-auth-httplib2 google-auth-oauthlib
</pre><p>&bull; Wait until it's done</p><p>&bull; Visit the&nbsp;<a href="https://console.developers.google.com/apis/credentials" target="_blank">Google Cloud Console</a></p><p>&bull; Make sure you're using the right google account, if you're not, change it first. After that, press Create Project</p><figure><img src="images/file-437855c1a33e2960574c8.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Name it whatever and press Create (I'm using edu mail here so the organization is present. If you're using normal gmail, just set the organization to No organization)</p><figure><img src="images/file-1d2616afab1d4f4f17241.png"><figcaption></figcaption></figure><p>&bull; Go to the OAuth Consent tab</p><p>&bull; Press external, and press Create</p><p>&bull; Fill app name whatever you want</p><p>&bull; Fill User support email and developer contact information with your google account, and ignore other configs. Press Save and Continue.</p><figure><img src="images/file-b0771f7a256a3cdac402b.png"><figcaption></figcaption></figure><figure><img src="images/file-9d16b42d6115cd06eb88c.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Skip the scopes step</p><p>&bull; Add your google account as tester, press Save and Continue</p><figure><img src="images/file-26cb4c6c8d7698a0acd0b.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Press back to dashboard</p><p>&bull; Press Credentials tab &gt; Create Credentials &gt; OAuth client ID</p><figure><img src="images/file-f7aa5ad039c5411b22a45.png"><figcaption></figcaption></figure><p>&bull; Select Desktop and name it whatever you want</p><p>&bull; This will appear, download it</p><figure><img src="images/file-bacb6937e4fa55c242bc5.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Back to Goorm IDE tab, right click slam-mirrorbot &gt; Import &gt; File, select the credentials file you have downloaded</p><figure><img src="images/file-da3fd5fb6787284ff658a.png"><figcaption></figcaption></figure><figure><img src="images/file-15fc5b354d03c2b68daeb.png"><figcaption></figcaption></figure><figure><img src="images/file-273e3216d332fafa6a553.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Rename the file to <em>credentials.json</em></p><figure><img src="images/file-961bb7e124ef858e021da.png"><figcaption></figcaption></figure><figure><img src="images/file-fff70cbedaa9ece6fa2b3.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Visit&nbsp;<a href="https://console.developers.google.com/apis/library" target="_blank">Google API page</a></p><p>&bull; Search for <em>drive</em></p><p>&bull; Press Google Drive API and enable it</p><figure><img src="images/file-c15da6a8ed0f36b91279e.png"><figcaption></figcaption></figure><figure><img src="images/file-2393340ad7736bebde23f.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Finally, run this command to generate <em>token.pickle</em> (one by one)</p><pre>python -m pip install google-auth-oauthlib
python3 generate_drive_token.py
</pre><p><br></p><p>&bull; Copy the link and open it in a new tab (never use CTRL+C in terminal)</p><figure><img src="images/file-b06c5e6547aadf8b88a3d.png"><figcaption></figcaption></figure><p><br></p><p>&bull; In the new tab, press your google account and you'll get your authorization code. Copy that and paste to the terminal and press enter. Check if <em>token.pickle </em>is created. If somehow you got some error, check again if you have done all the generating credentials steps nicely, if you have, go to your OAuth screen settings and activate all the scopes and try running the python script again. If it still doesn't work or your app is blocked, ask in the support group</p><figure><img src="images/file-fb82ba878a78d95d74fdb.png"><figcaption></figcaption></figure><figure><img src="images/file-6ab4e2896eb05e8b01e2d.png"><figcaption></figcaption></figure><p><br></p><p><strong>11)</strong> Now let's edit the config of the bot. (I'm using <em>config.env</em> for configurations here. The only downside is that you need to redeploy/update the app every time you change the config, if you prefer heroku config vars, then just skip this and add manually all the vars in your heroku app's config vars)</p><p>&bull; Rename <em>config_sample.env</em> to <em>config.env</em></p><figure><img src="images/file-4d7c586cdd4cb950f8b06.png"><figcaption></figcaption></figure><p><br></p><p>&bull; Open <em>config.env</em> by double-click it</p><p>&bull; Remove the first two lines of the file</p><figure><img src="images/file-cce1f2644ff03a2153259.png"><figcaption>Before</figcaption></figure><figure><img src="images/file-6dce14b73a170cdfd4825.png"><figcaption>After</figcaption></figure><p>&bull; Then fill the configs as per this page</p><p><a href="https://github.com/breakdowns/slam-mirrorbot#setting-up-config-file" target="_blank">https://github.com/breakdowns/slam-mirrorbot#setting-up-config-file</a></p><p><br></p><p>&bull; After you've done (remember that not all the configs need to be filled, so don't worry), save the file by CTRL+S or Save button</p><p><br></p><p><strong>12)</strong> This is the step where you edit the code before deploying. If you need something to edit from the repo, this is the time. If you don't know anything, then skip this step.</p><p><br></p><p><strong>13)</strong> Let's deploy the bot. Please change the the values between &lt; and &gt;. Don't change anything besides that. Make sure the terminal is running in <em>slam-mirrorbot</em> directory and run these commands one by one.</p><pre>git add -f .
git config --global user.email "&lt;your heroku email&gt;"
git config --global user.name "&lt;your name&gt;"
git commit -m "First Deployment"
git push heroku master --force
</pre><p><br></p><p><strong>14)</strong> Wait for the deployment, if you do all the things nicely, there won't be any error.</p><figure><img src="images/file-16ac34ddf8417bb495e17.png"><figcaption></figcaption></figure><p><br></p><p><strong>15)</strong> Let's restart the dyno, we need to do it every time we deploy/redeploy the app. The app will need some time to activate after using the activate command.</p><pre>heroku ps:scale web=0 -a appname
heroku ps:scale web=1 -a appname
</pre><p><br></p><p>&bull; You can check the whether the bot is running properly or not by using this log command. If you find <em>Bot Started! </em>in the log, then the bot is running properly (you may need to check it for a few times)</p><pre>heroku logs
</pre><p><br></p><p>&bull; P.S : Those commands can be used for deactivating and activating the dyno (bot):</p><blockquote>Deactivate:</blockquote><pre>heroku ps:scale web=0 -a appname
</pre><blockquote>Activate:</blockquote><pre>heroku ps:scale web=1 -a appname
</pre><p><br></p><p><strong>16)</strong>&nbsp;Y&#822;o&#822;u&#822; &#822;m&#822;a&#822;y&#822; &#822;w&#822;a&#822;n&#822;t&#822; &#822;t&#822;o&#822; &#822;s&#822;e&#822;t&#822; &#822;t&#822;h&#822;e&#822; &#822;b&#822;o&#822;t&#822; &#822;c&#822;o&#822;m&#822;m&#822;a&#822;n&#822;d&#822;s&#822;,&#822; &#822;s&#822;e&#822;e&#822; &#822;t&#822;h&#822;i&#822;s&#822; &#822;h&#822;t&#822;t&#822;p&#822;s&#822;:&#822;/&#822;/&#822;g&#822;i&#822;t&#822;h&#822;u&#822;b&#822;.&#822;c&#822;o&#822;m&#822;/&#822;b&#822;r&#822;e&#822;a&#822;k&#822;d&#822;o&#822;w&#822;n&#822;s&#822;/&#822;s&#822;l&#822;a&#822;m&#822;-&#822;m&#822;i&#822;r&#822;r&#822;o&#822;r&#822;b&#822;o&#822;t&#822;#&#822;b&#822;o&#822;t&#822;-&#822;c&#822;o&#822;m&#822;m&#822;a&#822;n&#822;d&#822;s&#822;-&#822;t&#822;o&#822;-&#822;b&#822;e&#822;-&#822;s&#822;e&#822;t&#822;-&#822;i&#822;n&#822;-&#822;b&#822;o&#822;t&#822;f&#822;a&#822;t&#822;h&#822;e&#822;r&#822;.&#822; &#822;Y&#822;o&#822;u&#822; &#822;c&#822;a&#822;n&#822; &#822;s&#822;k&#822;i&#822;p&#822; &#822;t&#822;h&#822;i&#822;s&#822; &#822;t&#822;o&#822;o&#822; &#822;i&#822;f&#822; &#822;y&#822;o&#822;u&#822; &#822;d&#822;o&#822;n&#822;'&#822;t&#822; &#822;w&#822;a&#822;n&#822;n&#822;a&#822; &#822;o&#822;r&#822; &#822;d&#822;o&#822;n&#822;'&#822;t&#822; &#822;k&#822;n&#822;o&#822;w&#822; &#822;w&#822;h&#822;a&#822;t&#822; &#822;t&#822;h&#822;i&#822;s&#822; &#822;i&#822;s&#822;.&#822; <strong>The latest commit makes the bot set its commands automatically, so skip this.</strong></p><p><br></p><p><strong>17)</strong> Let's chat with the bot. Send <em>/start</em> to the bot. (or your own start command if you change it from <em>bot/helper/telegram_helper/bot_commands.py</em>)</p><figure><img src="images/file-63b38d435c87448a60a7c.png"><figcaption></figcaption></figure><p><br></p><p><strong>18)</strong> If the bot responds, then the bot is running. Let's check the mirroring function by typing this: (if you change the mirror command, then use your own)</p><blockquote>/mirror magnet:?xt=urn:btih:RX46NCATYQRS3MCQNSEXVZGCCDNKTASQ</blockquote><p>&bull; It may be slow when collecting seeders but it'll be pretty quick after that, so wait for a few minutes. (if the torrent dies, you can use any distro from this site for testing: <a href="https://linuxtracker.org/index.php?page=toptorrents" target="_blank">https://linuxtracker.org/index.php?page=toptorrents</a>).</p><p><br></p><figure><img src="images/file-c30e7618ec331590a360c.png"><figcaption>Check the downloading process</figcaption></figure><figure><img src="images/file-15995063211a233001782.png"><figcaption>Check the uploading process too if it's running or not</figcaption></figure><figure><img src="images/file-8e6e24c8439b9f8e768a5.png"><figcaption>It works properly if yours shows something like this</figcaption></figure><p><br></p><p><strong>19)</strong> If the uploading process works, then the bot works nicely. If you wanna make more another bot, just copy <em>credentials.json </em>and <em>token.pickle </em>from the repo you're using now to wherever you want. I also advise you, assuming you're still using Goorm IDE method, to only use one container for one repo deployment to prevent conflicts in any way (more so if you're a newbie).</p><p><br></p><h3 id="TUTORIAL-2">TUTORIAL 2</h3><h3 id="ADDING-SERVICE-ACCOUNTS">ADDING SERVICE ACCOUNTS</h3><p>&bull; Wanna bypass 750GB upload limit per day?</p><p>&bull; The bot is always giving "Forbidden" after uploading?</p><p>This is where service accounts is needed!</p><p>Btw, this tutorial only works perfectly if you followed tutorial 1 to make your mirror bot. Don't blame me if it doesn't work for you when you didn't follow tutorial 1 before.</p><p><br></p><p><strong>Let's dig the steps!</strong></p><p><br></p><p><strong>1)</strong> Open the terminal in <em>slam-mirrorbot</em> directory as always.</p><p><br></p><p><strong>2)</strong> Make sure you still have <em>credentials.json</em> in the repo, it's needed for generating service accounts. After that, run these commands (one by one).</p><pre>python -m pip install progress
python3 gen_sa_accounts.py --quick-setup 1 --new-only
</pre><p><br></p><p><strong>3)</strong> Copy the link and open it in a new tab, connect it to your google account, and paste the authorization code you just got.</p><figure><img src="images/file-1086509163ef4057cdc45.png"><figcaption></figcaption></figure><p><br></p><p><strong>4)</strong> You're bound to get this error since it's the first time you're making service accounts with that google account. Copy the link after <em>Enable it by visiting</em> and open it in a new tab.</p><figure><img src="images/file-ee52ba6628d28f4a4f785.png"><figcaption></figcaption></figure><p><br></p><p><strong>5)</strong> Enable it.</p><figure><img src="images/file-1f2c4f47a8c2a411de9d7.png"><figcaption></figcaption></figure><p><br></p><p><strong>6)</strong> Generate the service accounts again by running this.</p><pre>python3 gen_sa_accounts.py --quick-setup 1 --new-only
</pre><p><br></p><p><strong>7)</strong> Wait, and voila, you'll get an <em>accounts </em>folder with all the service accounts credentials files. You can use these service accounts as long as you add to team drive (in the next step), you can use it in many team drives and you don't have to generate the service accounts again (except you need more than 100 service accounts, if you don't know what this means then just don't).</p><figure><img src="images/file-e45b67b5b271ef85ea757.png"><figcaption></figcaption></figure><p><br></p><p><strong>8)</strong> Let's add all the service accounts to your team drive by running this:</p><pre>python3 add_to_team_drive.py -d &lt;your team drive ID&gt;
</pre><figure><img src="images/file-f1dd34b9cf01ca2966e14.png"><figcaption></figcaption></figure><p>&bull; You may check your team drive in order to see whether the service accounts are added or not. If it's added by 100 people, then it works. You can check the members too.</p><figure><img src="images/file-0626a7b97c47cf8c386c9.png"><figcaption></figcaption></figure><p><br></p><p><strong>9)</strong> Let's change the config so that the bot knows that we're using service accounts and they can be used. Open <em>config.env</em> and set USE_SERVICE_ACCOUNTS var to <em>True</em>. And save it.</p><figure><img src="images/file-e21e266c273f52fab9edd.png"><figcaption></figcaption></figure><p><br></p><p>10) Let's go to tutorial 3 since we're changing the things in the repo, we need to redeploy the app every time there's a change in our repo.</p><p><br></p><p>11) After redeploying, check whether the uploading process works or not, if it works, then you succeeded to apply service accounts to the bot. The next time you need service accounts for another bot, just copy <em>accounts </em>folder from the repo you're using now and paste it to wherever you want.</p><p><br></p><p><br></p><h3 id="TUTORIAL-3">TUTORIAL 3</h3><h3 id="UPDATING-OR-REDEPLOYING-THE-APP">UPDATING OR REDEPLOYING THE APP</h3><p>&bull; After adding your service accounts?</p><p>&bull; You edited your config file or any code from the repo?</p><p>&bull; You edited just a single line or a single letter from the repo?</p><p>You need to redeploy!</p><p>Every single change in the repo needs to be redeployed to apply it to your heroku app.</p><p><br></p><p><strong>Let's freaking go!</strong></p><p><br></p><p><strong>1)</strong> You must have changed something from the repo first. Then open the terminal in <em>slam-mirrorbot</em> directory as always.</p><p><br></p><p><strong>2)</strong> Deactivate your app first before redeploying, run this.</p><pre>heroku ps:scale web=0 -a appname
</pre><p><br></p><p><strong>3)</strong> Do this to save any changes in the repo.</p><pre>git add -f .
git commit -m "whatever commit name you want"
</pre><p><br></p><p><strong>4)</strong> Push the code to heroku with this code.</p><pre>git push heroku master --force
</pre><p><br></p><p><strong>5)</strong> After pushing, restart the dyno.</p><pre>heroku ps:scale web=0 -a appname
heroku ps:scale web=1 -a appname
</pre><p><br></p><p><strong>6) </strong>The app should take the effect from the pushing and any changes will be applied to the app!</p><p><br></p><p><br></p><p><strong>That's it guys, hope this will help you! </strong>&#127881;&#129395;</p><p><br></p><h3 id="FIXING-GIT-ERRORS">FIXING GIT ERRORS</h3><p>If somehow the CLI shows you some git errors when you try to do git add, git commit, or git push, do these in the mirror bot directory. This may fix that.</p><p><br></p><p>Do these one by one and change <code>yourappname</code> to your heroku app name.</p><pre>rm -rf .git
rm .gitignore
git init
git add -f .
git commit -m "First commit"
heroku git:remote -a yourappname
git push heroku master --force
</pre><p>That's it!</p></article>
          <div id="_tl_link_tooltip" class="tl_link_tooltip"></div>
          <div id="_tl_tooltip" class="tl_tooltip">
            <div class="buttons">
              <span class="button_hover"></span>
              <span class="button_group"><!--
             --><button id="_bold_button"></button><!--
             --><button id="_italic_button"></button><!--
             --><button id="_link_button"></button><!--
           --></span><!--
           --><span class="button_group"><!--
             --><button id="_header_button"></button><!--
             --><button id="_subheader_button"></button><!--
             --><button id="_quote_button"></button><!--
           --></span>
            </div>
            <div class="prompt">
              <span class="close"></span>
              <div class="prompt_input_wrap"><input type="url" class="prompt_input"></div>
            </div>
          </div>
          <div id="_tl_blocks" class="tl_blocks">
            <div class="buttons">
              <button id="_image_button"></button><!--
           --><button id="_embed_button"></button>
            </div>
          </div>
          <aside class="tl_article_buttons">
            <div class="account account_top"></div>
            <button id="_edit_button" class="button edit_button">Edit</button><!--
         --><button id="_publish_button" class="button publish_button">Publish</button>
            <div class="account account_bottom"></div>
            <div id="_error_msg" class="error_msg"></div>
          </aside>
        </main>
      </div>
    </div>
    <div id="_tl_alerts" class="tl_alerts"></div>
    
    <script>var T={"apiUrl":"https:\/\/edit.telegra.ph","datetime":1620294344,"pageId":"882446c285e4b97f2d1d0","editable":true};(function(){var b=document.querySelector('time');if(b&&T.datetime){var a=new Date(1E3*T.datetime),d='January February March April May June July August September October November December'.split(' ')[a.getMonth()],c=a.getDate();b.innerText=d+' '+(10>c?'0':'')+c+', '+a.getFullYear()}})();</script>
    <script src="js/js-jquery.min.js"></script>
    <script src="js/js-jquery.selection.min.js"></script>
    <script src="js/js-autosize.min.js"></script>
    <script src="js/js-load-image.all.min.js"></script>
    <script src="js/js-quill.min.js"></script>
    <script src="js/js-core.min.js"></script>
    <script async src="https://t.me/_websync_?path=How-to-Deploy-a-Mirror-Bot-to-Heroku-with-CLI-05-06&amp;hash=658d1f24b6b6567585"></script>
  </body>
</html>
